# 前言

在当今的数字世界中，图像和视频无处不在，并且随着功能强大且价格适中的计算设备的出现，创建复杂的成像应用程序从未如此简单。 提供了大量用于处理图像和视频的软件工具和库，但是对于希望开发自己的应用程序的任何人，OpenCV 库都是可以使用的工具。

OpenCV（开放源计算机视觉）是一个开放源代码库，其中包含 500 多种用于图像和视频分析的优化算法。 自 1999 年推出以来，它已被计算机视觉研究人员和开发人员广泛用作主要开发工具。 OpenCV 最初由英特尔由盖瑞·布拉德斯基（Gary Bradski）领导的团队开发，旨在推动视觉研究并促进丰富的基于视觉的 CPU 密集型应用程序的开发。 在一系列 beta 版本发布之后，2006 年发布了 1.0 版。2009 年发布了第二个主要版本，OpenCV 2 的发布提出了重要的更改，尤其是本书中使用的新 C++ 接口。 在撰写本文时，最新版本是 2.2（2010 年 12 月）。

本书涵盖了图书馆的许多功能，并展示了如何使用它们来完成特定任务。 我们的目标不是全面，详细地介绍 OpenCV 函数和类提供的每个选项，而是为您提供从头开始构建应用程序所需的元素。 在本书中，我们还将探讨图像分析的基本概念，并描述计算机视觉中的一些重要算法。

本书为您提供了机会，介绍了图像和视频分析领域。 但这仅仅是开始。 好消息是 OpenCV 继续发展和扩展。 [只需查阅 OpenCV 在线文档以了解有关该库可以为您提供服务的最新信息](http://opencv.willowgarage.com/wiki/)。

# 这本书涵盖的内容

第 1 章，“玩转图像”介绍了 OpenCV 库，并向您展示了如何使用 MS Visual C++ 和 Qt 开发环境运行简单的应用程序。

第 2 章，“操纵像素”解释了如何读取图像。 它描述了用于扫描图像以便对其每个像素执行操作的不同方法。 您还将学习如何在图像内定义关注区域。

第 3 章，“使用类处理图像”，包含一些配方，这些配方提供了各种面向对象的设计模式，可以帮助您构建更好的计算机视觉应用程序。

第 4 章，“用直方图计算像素”展示了如何计算图像直方图以及如何使用它们来修改图像。 提出了基于直方图的不同应用程序，它们可以实现图像分割，目标检测和图像检索。

第 5 章，“通过形态学操作变换图像”探索了数学形态学的概念。 它介绍了不同的运算符，以及它们如何用于检测图像中的边缘，角和线段。

第 6 章，“过滤图像”教您频率分析和图像过滤的原理。 它显示了如何将低通和高通滤波器应用于图像。 它提供了两个图像导数运算符：梯度和拉普拉斯算子。

第 7 章，“提取线，轮廓和分量”着重于几何图像特征的检测。 它说明了如何提取图像中的轮廓，线和连接的分量。

第 8 章，“检测和匹配兴趣点”描述了图像中的各种特征点检测器。 它还说明了兴趣点的描述符如何计算并用于匹配图像之间的点。

第 9 章，“估计图像中的投影关系”分析了图像形成中涉及的不同关系。 它还探讨了同一场景的两个图像之间存在的投影关系。

第 10 章，“处理视频序列”提供了读取和写入视频序列以及处理其帧的框架。 它还向您展示了如何逐帧跟踪特征点，以及如何提取在摄像机前移动的前景对象。

# 这本书适合谁

如果您是新手 C++ 程序员，并且想学习如何使用 OpenCV 库来构建计算机视觉应用程序，那么本菜谱非常适合您。 它也适用于希望被引入计算机视觉编程概念的专业软件开发人员。 它可以用作大学级计算机视觉课程的配套书。 它为图像处理和计算机视觉的研究生和研究人员提供了极好的参考。 本书提供了基本食谱和高级食谱的良好组合。 必须具备 C++ 的基本知识。

# 约定

在本书中，您会发现许多可以区分不同类型信息的文本样式。 以下是这些样式的一些示例，并解释了其含义。

文本中的代码字如下所示：“我们可以通过使用`include`指令包含其他上下文。”

代码块设置如下：

```cpp
     // get the iterators
     cv::Mat_<cv::Vec3b>::const_iterator it=
                         image.begin<cv::Vec3b>();
```

当我们希望引起您对代码块特定部分的注意时，相关行或项目以粗体显示：

```cpp
     // Converting to Lab color space 
 cv::cvtColor(image, converted, CV_BGR2Lab);
     // get the iterators of the converted image 
     cv::Mat_<cv::Vec3b>::iterator it= 
```

**新术语**和**重要词**以粗体显示。 您在屏幕上看到的字词，例如在菜单或对话框中的字样如下：“单击 **Process** 按钮时将读取此值，这也会触发处理并显示结果 ”。

### 提示

提示和技巧如下所示。

# 读者反馈

始终欢迎读者的反馈。 让我们知道您对这本书的看法-您喜欢或不喜欢的东西。 读者反馈对于我们开发您真正能充分利用的标题非常重要。

要向我们发送一般性反馈，只需将电子邮件发送到`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`，然后通过您的邮件主题提及书名。

如果您需要一本书并希望我们出版，请通过 [www.packtpub.com](http://www.packtpub.com) 或`<[suggest@packtpub.com](mailto:suggest@packtpub.com)>`。

如果您有专业知识的主题，并且对写作或撰写书籍感兴趣，请参阅[这个页面](http://www.packtpub.com/authors)上的作者指南。

# 客户支持

既然您是 Packt 书的骄傲拥有者，我们可以通过很多方法来帮助您从购买中获得最大收益。

## 下载示例代码

您可以从[这个页面](http://www.PacktPub.com)下载从帐户购买的所有 Packt 图书的示例代码文件。 如果您在其他地方购买了此书，则可以访问[这个页面](http://www.PacktPub.com/support)并注册以将文件直接通过电子邮件发送给您。

## 勘误

尽管我们已尽一切努力确保内容的准确性，但还是会发生错误。 如果您发现我们的其中一本书中有错误-可能是文本或代码中的错误-请将此报告给我们，我们将不胜感激。 这样，您可以使其他读者免于沮丧，并帮助我们改进本书的后续版本。 如果您发现任何勘误，请访问[这个页面](http://www.packtpub.com/support)进行报告，选择您的图书，点击**勘误提交表格**链接，然后输入 您勘误的详细信息。 验证勘误后，您的提交将被接受，并且勘误将上传到我们的网站上，或添加到该标题的“勘误”部分下的任何现有勘误列表中。 通过从[这个页面](http://www.packtpub.com/support)中选择标题，可以查看任何现有的勘误。

## 盗版

互联网上的版权材料盗版是所有媒体上的一个持续存在的问题。 在 Packt，我们非常重视版权和许可的保护。 如果您在互联网上以任何形式发现我们的任何非法作品副本，请立即向我们提供位置地址或网站名称，以便我们寻求补救。

请通过`<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`与我们联系，并提供指向可疑盗版材料的链接。

感谢您在保护我们的作者方面的帮助，以及我们为您带来有价值的内容的能力。

## 问题

如果您对本书的任何方面都有疑问，可以通过`<[questions@packtpub.com](mailto:questions@packtpub.com)>`与我们联系，我们将尽力解决该问题。